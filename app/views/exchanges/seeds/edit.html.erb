<div class='row' data-controller='seed-row'>
  <div class='container'>
    <%= form_for @seed, url: exchanges_seed_path(@seed.id), method: :patch, remote: true do |f| %>
      <div class="form-group">
        <%= f.hidden_field :id %>
      </div>
      <div class='form-group'>
        <%= l10n("aasm_state") %>: <%= @seed.aasm_state.to_s %> <br>
      </div>
      <div class='form-group'>
        <%= l10n("filename") %>: <%= @seed.filename.to_s %> <br>
      </div>
      <div class='form-group'>
        <%= l10n("created_by") %>: <%= @seed&.user&.email || data_seed&.user&.person&.full_name %> <br>
      </div>
      <div class='form-group'>
        <%= l10n("created_at") %>: <%= @seed.created_at.to_s %> <br>
      </div>
      <div class='form-group'>
        <% if @seed.aasm_state == 'draft' %>
          <%= f.submit 'Begin Seed',
                       class: 'btn btn-primary',
                       type: 'submit',
                       data: { action: "click->seed-row#processSeed" } %>
        <% else %>
          <%= f.submit 'Seed Processed',
                       class: 'btn btn-primary',
                       type: 'submit',
                       disabled: true %>
        <% end %>
      </div>
    <% end %>
    <table class='table-responsive'>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Case Name</th>
          <th scope="col">Unique Row Identifier</th>
          <th scope='col'>Record URL</th>
          <th>Seeded At</th>
        </tr>
      </thead>
      <tbody>
        <% @seed.rows.each do |row| %>
          <%= render partial: 'row', locals: { row: row } %>
        <% end %>
      </tbody>
  </div>
</div>