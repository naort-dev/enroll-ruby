<!-- <%= wicked_pdf_stylesheet_link_tag "application" -%> -->
<%= wicked_pdf_stylesheet_link_tag "sponsored_benefits/application" -%>

<div class="container plan-details-export">
  <div class="row">
    <div class="panel col-xs-12">
      <h1 class="main-title">Quote Name: <%= plan_design_proposal.title %></h1>
      <h5>Claim Code: <% plan_design_proposal.claim_code %></h5>
      <h5>Effective Date: <%= plan_design_proposal.effective_date.strftime('%d %B %Y') %></h5>

      <p>Costs are based on the roster associated with this quote: <%= plan_design_proposal.active_census_employees.count %> employee(s) and <%= plan_design_proposal.active_census_familes.count %> families</p>
    </div>
  </div>
  <div class="row">
    <div class="panel col-xs-12">
      <table class="table table-striped">
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Relationship Name</th>
        </tr>
        <% plan_design_proposal.active_census_employees.each do |employee| %>
          <tr class="employee">
            <td><%= employee.first_name %></td>
            <td><%= employee.last_name %></td>
            <td><%= employee.employee_relationship %></td>
          </tr>
          <% employee.census_dependents.each do |dependent| %>
            <tr class="dependent">
              <td><%= dependent.first_name %></td>
              <td><%= dependent.last_name %></td>
              <td><%= dependent.employee_relationship %></td>
            </tr>
          <% end %>
        <% end %>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="panel col-xs-12">
      <h5>Coverage Year: <%= sponsorship.initial_enrollment_period_to_s %></h5>
      <table class="table table-striped">
        <tr>
          <th>Reference Plan</th>
          <th>Carrier</th>
          <th>Type</th>
          <th>Metal Level</th>
          <th>Plans By</th>
        </tr>
        <tbody>
          <tr>
            <td><%= @plan.name %></td>
            <td><%= @plan.carrier_profile.legal_name %></td>
            <td><%= @plan.plan_type %></td>
            <td><%= @plan.metal_level %></td>
            <td><%= @benefit_group.plan_option_kind.humanize %></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="panel col-xs-12">
      <% if @benefit_group.plan_option_kind != 'sole_source' %>
        <%= render 'sponsored_benefits/organizations/plan_design_proposals/shared/employee_traditional_costs', benefit_group: @benefit_group %>
      <% else %>
        <%= render 'sponsored_benefits/organizations/plan_design_proposals/shared/employee_composite_costs', benefit_group: @benefit_group %>
      <% end %>
      <br />
      <!--Health Estimated Cost: start-->
      <div class="panel benefitgroup col-xs-12 referenceplan home est">
        <div class="plan-details">
          <div class="col-xs-4">
            <div class="row">
              <span><b>Employer Estimated Maximum Monthly Cost</b></span>
              <h2 class="main-title emp-cost"><%= number_to_currency(@benefit_group.monthly_employer_contribution_amount) %></h2>
            </div>
          </div>
          <div class="col-xs-8">
            <div class="row">
              <table class="table table-striped">
                <tr>
                  <th colspan="2"></th>
                  <th>Min</th>
                  <th>Max</th>
                </tr>
                <tr>
                  <td colspan="2"><b>Total Estimated Monthly Cost for Plan Participants</b></td>
                  <td><%= number_to_currency(@benefit_group.monthly_min_employee_cost) %></td>
                  <td><%= number_to_currency(@benefit_group.monthly_max_employee_cost) %></td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <% if sbc_included %>
    <%= render 'sponsored_benefits/organizations/plan_design_proposals/plan_comparisons/comparison_table', qhps: @qhps %>
  <% end %>
</div>

<style>
  .emp-cost {
    margin-left:120px;
  }
  .main-title {
    color:#C56C2C;
  }
  table {
    border-spacing: 0;
    border-collapse: collapse
  }
  td,th {
    padding: 0
  }
  thead {
    display: table-header-group
  }
  .table {
    border-collapse: collapse!important
  }
  .table td,.table th {
    background-color: #fff!important
  }
  .table-bordered td,.table-bordered th {
    border: 1px solid #ddd!important
  }
  th {
    text-align: left
  }
  .table {
    width: 100%;
    max-width: 100%;
    margin-bottom: 20px
  }
  .table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th {
    padding: 8px;
    line-height: 1.42857143;
    vertical-align: top;
    border-top: 1px solid #ddd
  }
  .table>thead>tr>th {
    vertical-align: bottom;
    border-bottom: 2px solid #ddd
  }
  .table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th {
    border-top: 0
  }
  .table>tbody+tbody {
    border-top: 2px solid #ddd
  }
  .table .table {
    background-color: #fff
  }
  .table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th {
    padding: 5px
  }
  .table-bordered {
    border: 1px solid #ddd
  }
  .table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th {
    border: 1px solid #ddd
  }
  .table-bordered>thead>tr>td,.table-bordered>thead>tr>th {
    border-bottom-width: 2px
  }
  .table-striped>tbody>tr:nth-of-type(odd) {
    background-color: #f9f9f9
  }
  .table-hover>tbody>tr:hover {
    background-color: #f5f5f5
  }
  table col[class*=col-] {
    position: static;
    display: table-column;
    float: none
  }
  table td[class*=col-],table th[class*=col-] {
    position: static;
    display: table-cell;
    float: none
  }
  .table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active {
    background-color: #f5f5f5
  }
  .table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover {
    background-color: #e8e8e8
  }
  .table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success {
    background-color: #dff0d8
  }
  .table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover {
    background-color: #d0e9c6
  }
  .table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info {
    background-color: #d9edf7
  }
  .table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover {
    background-color: #c4e3f3
  }
  .table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning {
    background-color: #fcf8e3
  }
  .table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover {
    background-color: #faf2cc
  }
  .table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger {
    background-color: #f2dede
  }
  .table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover {
    background-color: #ebcccc
  }
  .table-responsive {
    min-height: .01%;
    overflow-x: auto
  }

</style>
